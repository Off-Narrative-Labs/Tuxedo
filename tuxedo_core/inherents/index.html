<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="APIs and utilities for working with Substrate’s Inherents in Tuxedo based chains."><title>tuxedo_core::inherents - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="tuxedo_core" data-themes="" data-resource-suffix="" data-rustdoc-version="1.76.0-nightly (5facb422f 2023-11-28)" data-channel="nightly" data-search-js="search-56a624991a76cfad.js" data-settings-js="settings-fe03fdc259827cd2.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-77dede896d6ac08e.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../tuxedo_core/index.html">tuxedo_core</a><span class="version">1.0.0-dev</span></h2></div><h2 class="location"><a href="#">Module inherents</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li></ul></section><h2><a href="../index.html">In crate tuxedo_core</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">tuxedo_core</a>::<wbr><a class="mod" href="#">inherents</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/tuxedo_core/inherents.rs.html#1-237">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>APIs and utilities for working with Substrate’s Inherents in Tuxedo based chains.</p>
<h2 id="substrate-inherents"><a href="#substrate-inherents">Substrate inherents</a></h2>
<p>Inherents are a Substrate feature that allows block authors to insert some transactions directly
into the body of the block. Inherents are similar to pre-runtime digests which allow authors to
insert info into the block header. However inherents go in the block body and therefore must be transactions.</p>
<p>Classic usecases for inherents are injecting and updating environmental information such as a block timestamp,
information about the relay chain (if the current chain is a parachain), or information about who should receive the block reward.</p>
<p>In order to allow the runtime to construct such transactions while keeping the cleint opaque, there are special APIs
for creating inherents and performing off-chain validation of inherents. That’s right, inherents also offer
a special API to have their environmental data checked off-chain before the block is executed.</p>
<h2 id="complexities-in-utxo-chains"><a href="#complexities-in-utxo-chains">Complexities in UTXO chains</a></h2>
<p>In account based systems, the classic way to use an inherent is that the block inserts a transaction providing some data like a timestamp.
When the extrinsic executed it, overwrites the previously stored timestamp in a dedicated storage item.</p>
<p>In UTXO chains, there are no storage items, and all state is local to a UTXO. This is the case with, for example, the timestamp as well.
This means that when the author calls into the runtime with a timestamp, the transaction that is returned must include the correct reference
to the UTXO that contained the previous best timestamp. This is the crux of the problem: there is no easy way to know the location of
the previous timestamp in the utxo-space from inside the runtime.</p>
<h2 id="scraping-the-parent-block"><a href="#scraping-the-parent-block">Scraping the Parent Block</a></h2>
<p>The solution is to provide the entirety of the previous block to the runtime when asking it to construct inherents.
This module provides an inherent data provider that does just this. Any Tuxedo runtime that uses inherents (At least ones
that update environmental data), needs to include this foundational previous block inherent data provider
so that the Tuxedo executive can scrape it to find the output references of the previous inherent transactions.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ParentBlockInherentDataProvider.html" title="struct tuxedo_core::inherents::ParentBlockInherentDataProvider">ParentBlockInherentDataProvider</a></div><div class="desc docblock-short">An inherent data provider that inserts the previous block into the inherent data.
This data does NOT go into an extrinsic.</div></li><li><div class="item-name"><a class="struct" href="struct.TuxedoInherentAdapter.html" title="struct tuxedo_core::inherents::TuxedoInherentAdapter">TuxedoInherentAdapter</a></div><div class="desc docblock-short">An adapter to transform structured Tuxedo inherents into the more general and powerful
InherentInternal trait.</div></li></ul><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.PARENT_INHERENT_IDENTIFIER.html" title="constant tuxedo_core::inherents::PARENT_INHERENT_IDENTIFIER">PARENT_INHERENT_IDENTIFIER</a></div><div class="desc docblock-short">An inherent identifier for the Tuxedo parent block inherent</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.InherentInternal.html" title="trait tuxedo_core::inherents::InherentInternal">InherentInternal</a></div><div class="desc docblock-short">Almost identical to TuxedoInherent, but allows returning multiple extrinsics
(as aggregate runtimes  will need to) and removes the requirement that the generic
outer constraint checker be buildable from <code>Self</code> so we can implement it for ().</div></li><li><div class="item-name"><a class="trait" href="trait.TuxedoInherent.html" title="trait tuxedo_core::inherents::TuxedoInherent">TuxedoInherent</a></div><div class="desc docblock-short">Tuxedo’s controlled interface around Substrate’s concept of inherents.</div></li></ul></section></div></main></body></html>