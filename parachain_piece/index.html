<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Allow collators to include information about the relay chain, parachain, and their relationship, via an inherent."><title>parachain_piece - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-2c208a72533b4dd0.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="parachain_piece" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0-nightly (ccfcd950b 2024-04-15)" data-channel="nightly" data-search-js="search-ffac13a0df2b1870.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-e32f0c247825364d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-c97aec732c613ca4.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-09095024cf37855e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../parachain_piece/index.html">parachain_piece</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../parachain_piece/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings">Settings</a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">parachain_piece</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/parachain_piece/lib.rs.html#1-277">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Allow collators to include information about the relay chain, parachain, and their relationship, via an inherent.</p>
<p>This piece is necessary if the runtime is going to work as a parachain.</p>
<p>In each block, the block author must include a single <code>SetParachainInfo</code> transaction that consumes the
corresponding UTXO that was created in the previous block, and creates a new one with updated parachain info.
This is quite similar to how the timestamp inherent works, except that in this case we are consuming the previous
input directly instead of peeking. This decision may be revisitied if keeping the info around would be useful.</p>
<h3 id="comparison-with-cumulus-pallet-parachain-system"><a class="doc-anchor" href="#comparison-with-cumulus-pallet-parachain-system">§</a>Comparison with Cumulus Pallet Parachain System</h3>
<p>This is similar to FRAME’s pallet parachain system, although this piece is only responsible for the inherent flow
while that pallet is responsible for most of the core parachain requirements including the validate block function.</p>
<h3 id="hack-warning"><a class="doc-anchor" href="#hack-warning">§</a>Hack Warning</h3>
<p>Like the timestamp piece, this piece currently abuses the UpForGrabs verifier.
This should be replaced with an Unspendable verifier and an eviction workflow.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ParachainInherentData.html" title="struct parachain_piece::ParachainInherentData">ParachainInherentData</a></div><div class="desc docblock-short">The inherent data that is passed by the collator to the parachain runtime.</div></li><li><div class="item-name"><a class="struct" href="struct.SetParachainInfo.html" title="struct parachain_piece::SetParachainInfo">SetParachainInfo</a></div><div class="desc docblock-short">A constraint checker for the simple act of including new parachain information.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ParachainError.html" title="enum parachain_piece::ParachainError">ParachainError</a></div><div class="desc docblock-short">Reasons that setting or cleaning up the parachain info may go wrong.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.ParachainPieceConfig.html" title="trait parachain_piece::ParachainPieceConfig">ParachainPieceConfig</a></div><div class="desc docblock-short">Options to configure the timestamp piece when it is aggregated or used in a runtime.</div></li></ul></section></div></main></body></html>